{"ast":null,"code":"var _jsxFileName = \"/home/user/test-project/client/src/AddProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Card } from 'react-bootstrap';\nimport Header from './Header';\nimport './Products.css';\nimport './components/Topbar/bootstrap.min.css';\nimport Axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => state.user);\n  const navigate = useNavigate();\n  const [file, setFile] = useState(\"\");\n  const [product, setProduct] = useState('');\n  const [description, setDescription] = useState('');\n\n  const saveFile = e => {\n    setFile(e.target.files[0]);\n  };\n\n  const products = () => {\n    const formData = new FormData();\n    formData.append(\"product\", product);\n    formData.append(\"description\", description);\n    formData.append(\"img\", file);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    Axios.post('/add-product', formData, config).then(() => {\n      navigate('/products');\n    }).catch(err => {\n      throw err;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Header, {\n    Header: true,\n    title: \"Add new product\",\n    children: [user.isAdmin ? /*#__PURE__*/_jsxDEV(LogoutButton, {\n      onClick: this.handleLogoutClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(LoginButton, {\n      onClick: this.handleLoginClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }, this), user.isAdmin]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"TtUzU0GeMpSCNcGYiZ3HOtUQiwA=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["/home/user/test-project/client/src/AddProduct.jsx"],"names":["React","useEffect","useState","Button","Card","Header","Axios","useNavigate","useSelector","AddProduct","user","state","navigate","file","setFile","product","setProduct","description","setDescription","saveFile","e","target","files","products","formData","FormData","append","config","headers","post","then","catch","err","isAdmin","handleLogoutClick","handleLoginClick"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,iBAA7B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,gBAAP;AACA,OAAO,uCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAGA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACrB,QAAM;AAAEC,IAAAA;AAAF,MAAWF,WAAW,CAAEG,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAA5B;AACA,QAAME,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACe,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,EAAD,CAA9C;;AAEA,QAAMiB,QAAQ,GAAIC,CAAD,IAAO;AACpBN,IAAAA,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACH,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAM;AACnB,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BX,OAA3B;AACAS,IAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BT,WAA/B;AACAO,IAAAA,QAAQ,CAACE,MAAT,CAAgB,KAAhB,EAAuBb,IAAvB;AAEA,UAAMc,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AADE,KAAf;AAIAtB,IAAAA,KAAK,CAACuB,IAAN,CAAW,cAAX,EAA2BL,QAA3B,EAAqCG,MAArC,EACKG,IADL,CACU,MAAM;AACRlB,MAAAA,QAAQ,CAAC,WAAD,CAAR;AAEH,KAJL,EAKKmB,KALL,CAKWC,GAAG,IAAI;AAAE,YAAMA,GAAN;AAAW,KAL/B;AAMH,GAjBD;;AAoBA,sBACI,QAAC,MAAD;AAAQ,IAAA,MAAM,MAAd;AAAe,IAAA,KAAK,EAAC,iBAArB;AAAA,eACKtB,IAAI,CAACuB,OAAL,gBACK,QAAC,YAAD;AAAc,MAAA,OAAO,EAAE,KAAKC;AAA5B;AAAA;AAAA;AAAA;AAAA,YADL,gBAEK,QAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKC;AAA3B;AAAA;AAAA;AAAA;AAAA,YAHV,EAKKzB,IAAI,CAACuB,OALV;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH,CA3CD;;GAAMxB,U;UACeD,W,EACAD,W;;;KAFfE,U;AA4CN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Button, Card } from 'react-bootstrap';\nimport Header from './Header';\nimport './Products.css';\nimport './components/Topbar/bootstrap.min.css';\nimport Axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\n\nconst AddProduct = () => {\n    const { user } = useSelector((state) => state.user)\n    const navigate = useNavigate();\n    const [file, setFile] = useState(\"\");\n    const [product, setProduct] = useState('');\n    const [description, setDescription] = useState('')\n\n    const saveFile = (e) => {\n        setFile(e.target.files[0]);\n    };\n\n    const products = () => {\n        const formData = new FormData();\n\n        formData.append(\"product\", product);\n        formData.append(\"description\", description);\n        formData.append(\"img\", file);\n\n        const config = {\n            headers: { 'content-type': 'multipart/form-data' }\n        }\n\n        Axios.post('/add-product', formData, config)\n            .then(() => {\n                navigate('/products');\n\n            })\n            .catch(err => { throw err });\n    };\n\n\n    return (\n        <Header Header title='Add new product' >\n            {user.isAdmin\n                ? <LogoutButton onClick={this.handleLogoutClick} />\n                : <LoginButton onClick={this.handleLoginClick} />\n            }\n            {user.isAdmin\n              \n            }\n\n        </Header >\n    )\n}\nexport default AddProduct"]},"metadata":{},"sourceType":"module"}